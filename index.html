<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HunyHuny Offer Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<style>
body{font-family:Arial;margin:0;background:#f5f6fa}
.container{max-width:1100px;margin:20px auto;padding:16px}
.card{background:#fff;padding:16px;border-radius:14px;box-shadow:0 3px 10px rgba(0,0,0,.08)}
.grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}
.field label{font-size:12px;font-weight:800;margin-bottom:6px;display:block}
.field input,.field select{width:100%;padding:10px;border-radius:10px;border:1px solid #ddd}
button{padding:10px 14px;border-radius:10px;border:0;font-weight:800;cursor:pointer}
.btn-primary{background:#2f6fed;color:#fff}
.btn-success{background:#16a34a;color:#fff}
.btn-secondary{background:#eef2ff;color:#1e40af}
.btn-danger{background:#ffe4e6;color:#9f1239}

.offer-box{margin-top:14px;padding:12px;border-radius:12px;background:#fff7ed;border:1px solid #fed7aa}

table{width:100%;border-collapse:collapse;margin-top:14px}
th,td{padding:10px;border-bottom:1px solid #eee;font-size:13px}
th{background:#fafafa}

.summary{margin-top:14px;border:1px dashed #ddd;padding:12px;border-radius:12px;background:#fcfcff}
.row{display:flex;justify-content:space-between;padding:6px 0}
.hide{display:none}

.savings{background:#dcfce7;color:#166534;padding:8px 12px;border-radius:14px;font-weight:900}
.final{background:#111827;color:#fff;padding:14px 18px;border-radius:16px;font-size:26px;font-weight:900}

#offerSlip{margin-top:20px;padding:14px;border-radius:14px;border:1px solid #e5e7eb;background:#fff}

.logo{height:60px;object-fit:contain}

#upiQR{width:160px;margin-top:10px;display:none}

.timer{font-weight:900;color:#7c3aed;text-align:center;margin-top:8px}
</style>
</head>

<body>
<div class="container">
<div class="card">

<!-- INPUTS -->
<div class="grid">
  <div class="field">
    <label>Sales Person Name</label>
    <input id="salesPerson">
  </div>
  <div class="field">
    <label>Customer Name</label>
    <input id="customerName">
  </div>
  <div class="field">
    <label>Customer Mobile</label>
    <input id="customerMobile" maxlength="10">
  </div>

  <div class="field">
    <label>Payment Mode</label>
    <select id="paymentMode">
      <option value="UPI">UPI</option>
      <option value="NET">Net Banking</option>
    </select>
    <img src="./HunyHuny QR Code.png" id="upiQR">
  </div>

  <div class="field">
    <label>Search Product by Model Number</label>
    <input id="modelInput" placeholder="e.g. HH_BEDCOT-WBBX1">
    <div id="suggestions"></div>
  </div>

  <div class="field">
    <label>&nbsp;</label>
    <button class="btn-primary" onclick="addProduct()">+ Add Product</button>
  </div>
</div>

<!-- SPECIAL DISCOUNT -->
<div class="offer-box">
  <label>
    <input type="checkbox" id="specialEnable" onchange="renderCart()">
    Apply Special Discount
  </label>
  <input id="specialAmt" type="number" placeholder="Amount" onchange="renderCart()">
</div>

<!-- CART + SLIP -->
<div id="offerSlip">

<!-- HEADER -->
<div style="display:flex;justify-content:space-between;align-items:center">
  <img src="./logo.png" class="logo">
  <div>
    <div><b>Offer ID:</b> <span id="offerId">Not Created</span></div>
    <div class="timer" id="validity"></div>
  </div>
</div>

<!-- CUSTOMER INFO -->
<div class="grid" style="margin-top:10px">
  <div><b>Customer:</b> <span id="slipCustomer"></span></div>
  <div><b>Mobile:</b> <span id="slipMobile"></span></div>
  <div><b>Sales:</b> <span id="slipSales"></span></div>
</div>

<!-- TABLE -->
<table>
<thead>
<tr>
  <th>Combo</th>
  <th>Model</th>
  <th>MRP</th>
  <th>Discount</th>
  <th>Qty</th>
  <th>Offer Price</th>
</tr>
</thead>
<tbody id="cartBody"></tbody>
</table>

<!-- SUMMARY -->
<div class="summary">
  <div class="row"><span>Offer Base Value</span><b id="orderValue">₹0</b></div>

  <div class="row hide" id="webDiscRow"><span>Website Discount</span><b id="webDiscEl">₹0</b></div>
  <div class="row hide" id="upiDiscRow"><span>UPI Discount</span><b id="upiDiscEl">₹0</b></div>
  <div class="row hide" id="comboDiscRow"><span>Combo Discount</span><b id="comboDiscEl">₹0</b></div>
  <div class="row hide" id="specialDiscRow"><span>Special Discount</span><b id="specialDiscEl">₹0</b></div>

  <div class="row"><span>Total Savings</span><b class="savings" id="totalSavings">₹0</b></div>
  <div class="row"><span>Final Payable</span><b class="final" id="finalPayEl">₹0</b></div>
</div>

</div>

<!-- ACTIONS -->
<div style="margin-top:16px">
  <button class="btn-success" onclick="createOffer()">Create Offer</button>
  <button class="btn-secondary" onclick="clearCart()">Clear Cart</button>
  <button class="btn-danger" onclick="location.reload()">Clear All</button>
</div>

</div>
</div>

<script src="script.js"></script>
</body>
</html>
